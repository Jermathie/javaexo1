<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../../../style.css">
    <title></title>
</head>
<body>
<div class="container">
    <div>
        <div class="exercise-field">
            <h1>Modules</h1>
        </div>
    </div>
</div>
</body>
<script src="index.js">
    /*
        Just like in java you can download and use modules from the internet.
        If you open index.js you'll see that we want to use a library called lodash.

        Lodash is something like a stream api, with all kind of neat functionalities.

        Open index.html and look in the console. You'll see that your are getting an error.
        Why? Well we haven't installed lodash yet!

        Let's start by making a npm project.
        (0. Make sure you've installed npm. Try npm --version to check that it's there)
        1. Go to your terminal
        2. Navigate to the root of this codelab
        3. Execute "npm init -y"

        You should now have a package.json file, which is almost the same as a pom.xml file for maven.


        Now we've our basics let's install lodash.
        1. type "npm install lodash --save" in your terminal
        2. npm should have created a node_modules/ directory with a lodash/ subdirectory

        Try out index.html again.

        Damn still doesn't work. What's happening?

        The browser doesn't find the file named 'lodash'.
        We can let the import point to the correct file. Replace "from 'lodash'" with "from './node_modules/lodash/index.js'"

        Try out index.html again.

        Still doesn't work! But we're almost there!
        What is happening now?

        The browsers complains he can't find the right module syntax.
        This happens because how weird the javascript world is shaped and everybody just kinda does it own thing.
        See browsers and Node both wanted to work with javascript but for different reasons (the one frontend the other backend).
        Since they both had a need for modules they both developed a module system (browsers use the ESModules and Node CommonJS).
        Unluckily for us they are incompatible with each other.

        Luckily there are some tools that let you combine both module systems and let you use lodash in the browser.
        A bundler will bundle (duh) your javascript.
        It will transform all you're files and dependencies and put them in all in one file.
        That way your browser will no longer have any problems reading your files.

        Every bundler can run in two modes.
        - In the first mode (production) the bundler will produce a bundled file and put it in a dist/ folder.
            -> This bundled file is typically your end result and you can compare it to a war or ear file
        - In the second mode (development) the bundler will server your files.
            -> In this mode the bundler compiles your files on the fly. While also providing an endpoint where you can test your application.

        Let's try building the application first.

        First install the bundler with following command "npm install --global parcel-bundler".
        Then bundle your index.js file with "parcel build index.js"
        After the command has been executed you should have a dist/ folder with an index.js file in it.
        Change your index.html file so that it points to your new bundled index.js file.
        Test your application.
        This time it should work!

        This is a heavy procedure for if you want to test something quickly.
        Let's try out development mode!

        Change your index.html file so that it yet again points to the original index.js file.
        Type "parcel index.html"
        Open the link the appears in the terminal.
        Your website should open and everything should work.


        Typescript and Angular come with their own build in bundlers. They work almost exactly the same as parcel, with some extra bells and wisthles.
     */
</script>
</html>
